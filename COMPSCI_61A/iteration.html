<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2025-10-02 Thu 13:40 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Iteration</title>
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" href="/style.css" type="text/css"/>

          <style>
          /* From: https://endlessparentheses.com/public/css/endless.css */
          /* See also: https://meta.superuser.com/questions/4788/css-for-the-new-kbd-style */
          kbd
          {
            -moz-border-radius: 6px;
            -moz-box-shadow: 0 1px 0 rgba(0,0,0,0.2),0 0 0 2px #fff inset;
            -webkit-border-radius: 6px;
            -webkit-box-shadow: 0 1px 0 rgba(0,0,0,0.2),0 0 0 2px #fff inset;
            background-color: #f7f7f7;
            border: 1px solid #ccc;
            border-radius: 6px;
            box-shadow: 0 1px 0 rgba(0,0,0,0.2),0 0 0 2px #fff inset;
            color: #333;
            display: inline-block;
            font-family: 'Droid Sans Mono', monospace;
            font-size: 80%;
            font-weight: normal;
            line-height: inherit;
            margin: 0 .1em;
            padding: .08em .4em;
            text-shadow: 0 1px 0 #fff;
            word-spacing: -4px;
        
            box-shadow: 2px 2px 2px #222; /* MA: An extra I've added. */
          }
          </style>
          <link rel="stylesheet" type="text/css" href="https://alhassy.github.io/org-special-block-extras/tooltipster/dist/css/tooltipster.bundle.min.css"/>
        
          <link rel="stylesheet" type="text/css" href="https://alhassy.github.io/org-special-block-extras/tooltipster/dist/css/plugins/tooltipster/sideTip/themes/tooltipster-sideTip-punk.min.css" />
        
          <script type="text/javascript">
              if (typeof jQuery == 'undefined') {
                  document.write(unescape('%3Cscript src="https://code.jquery.com/jquery-1.10.0.min.js"%3E%3C/script%3E'));
              }
          </script>
        
           <script type="text/javascript"            src="https://alhassy.github.io/org-special-block-extras/tooltipster/dist/js/tooltipster.bundle.min.js"></script>
        
            <script>
                   $(document).ready(function() {
                       $('.tooltip').tooltipster({
                           theme: 'tooltipster-punk',
                           contentAsHTML: true,
                           animation: 'grow',
                           delay: [100,500],
                           // trigger: 'click'
                           trigger: 'custom',
                           triggerOpen: {
                               mouseenter: true
                           },
                           triggerClose: {
                               originClick: true,
                               scroll: true
                           }
           });
                   });
               </script>
        
          <style>
             abbr {color: red;}
        
             .tooltip { border-bottom: 1px dotted #000;
                        color:red;
                        text-decoration: none;}
          </style>
</head>
<body>
<div id="preamble" class="status">
<div class="breadcrumb"><a href="/">Home</a> <span>â†’</span> <a href="/COMPSCI_61A/index.html">COMPSCI 61A</a></div>
</div>
<div id="content" class="content">
<h1 class="title">Iteration</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#orga4f15ae">1. Iterators</a>
<ul>
<li><a href="#org1bc6a84">1.1. Built-In Functions</a></li>
</ul>
</li>
<li><a href="#orga66ffc4">2. <code>while</code> Statements</a>
<ul>
<li><a href="#orgf053a61">2.1. Procedure for <code>while</code> Statements</a></li>
</ul>
</li>
<li><a href="#orga43c66f">3. <code>for</code> Statements</a>
<ul>
<li><a href="#org63fa18b">3.1. Procedure for <code>for</code> Statements</a></li>
<li><a href="#org2f81808">3.2. Sequence Unpacking</a></li>
<li><a href="#org67bf298">3.3. Ranges</a></li>
<li><a href="#org3c15489">3.4. Iterators</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-orga4f15ae" class="outline-2">
<h2 id="orga4f15ae"><span class="section-number-2">1.</span> Iterators</h2>
<div class="outline-text-2" id="text-1">
<p>
A container can provide an <b>iterator</b> that provides access to its elements in some order. Iterators are <a href="mutation.html#orgedfe0c4">mutable</a> values. The function <code>iter(&lt;iterable&gt;)</code> returns an iterator over the elements of an iterable value (such as any <a href="sequences.html#org6e57dfb">sequence</a>), and the function <code>next(&lt;iterator&gt;)</code> returns the next element in an iterator. For example:
</p>

<div class="org-src-container">
<pre class="src src-python"><span class="org-py-variable-name">s</span> <span class="org-operator">=</span> <span class="org-rainbow-delimiters-depth-1">[</span><span class="org-py-number">3</span>, <span class="org-py-number">4</span>, <span class="org-py-number">5</span><span class="org-rainbow-delimiters-depth-1">]</span>
<span class="org-py-variable-name">t</span> <span class="org-operator">=</span> <span class="org-py-builtins">iter</span><span class="org-rainbow-delimiters-depth-1">(</span>s<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-py-variable-name">first</span> <span class="org-operator">=</span> <span class="org-py-builtins">next</span><span class="org-rainbow-delimiters-depth-1">(</span>t<span class="org-rainbow-delimiters-depth-1">)</span>          <span class="org-comment-delimiter"># </span><span class="org-comment">3
</span><span class="org-py-variable-name">second</span> <span class="org-operator">=</span> <span class="org-py-builtins">next</span><span class="org-rainbow-delimiters-depth-1">(</span>t<span class="org-rainbow-delimiters-depth-1">)</span>         <span class="org-comment-delimiter"># </span><span class="org-comment">4</span>
</pre>
</div>

<p>
When the iterator reaches the end of the sequence, it throws a <code>Stopiteration</code> error.
</p>

<p>
An iterator is useful because it bundles together a sequence and it position within that sequence as one object. This allows you to retain the position while passing the object around, which is useful for ensuring that each element is processed only once.
</p>
</div>
<div id="outline-container-org1bc6a84" class="outline-3">
<h3 id="org1bc6a84"><span class="section-number-3">1.1.</span> Built-In Functions</h3>
<div class="outline-text-3" id="text-1-1">
<p>
Many built-in Python sequence functions return iterators that compute results lazily:
</p>

<div class="org-src-container">
<pre class="src src-python"><span class="org-py-builtins">map</span><span class="org-rainbow-delimiters-depth-1">(</span>&lt;func&gt;, &lt;iterable&gt;<span class="org-rainbow-delimiters-depth-1">)</span>             <span class="org-comment-delimiter"># </span><span class="org-comment">Iterate over func(x) for x in iterable
</span><span class="org-py-builtins">filter</span><span class="org-rainbow-delimiters-depth-1">(</span>&lt;func&gt;, &lt;iterable&gt;<span class="org-rainbow-delimiters-depth-1">)</span>          <span class="org-comment-delimiter"># </span><span class="org-comment">Iterate over x in iterable if func(x)
</span><span class="org-py-builtins">zip</span><span class="org-rainbow-delimiters-depth-1">(</span>&lt;first_iter&gt;, &lt;second_iter&gt;<span class="org-rainbow-delimiters-depth-1">)</span>    <span class="org-comment-delimiter"># </span><span class="org-comment">Iterate over co-indexed (x, y) pairs
</span><span class="org-py-builtins">reversed</span><span class="org-rainbow-delimiters-depth-1">(</span>&lt;sequence&gt;<span class="org-rainbow-delimiters-depth-1">)</span>                <span class="org-comment-delimiter"># </span><span class="org-comment">Iterate over x in a sequence in reverse order</span>
</pre>
</div>

<p>
In particular, the <code>zip()</code> function returns an iterator over co-indexed tuples. In other words, it will take a series of iterables, and return an iterator over tuples in which each tuple contains values from the corresponding index in each iterable. Thus, the first tuple in the iterator, would contain the first element of each iterable, then the second for the second tuple, and so on:
</p>

<div class="org-src-container">
<pre class="src src-python"><span class="org-py-variable-name">l</span> <span class="org-operator">=</span> <span class="org-py-builtins">list</span><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-py-builtins">zip</span><span class="org-rainbow-delimiters-depth-2">(</span><span class="org-rainbow-delimiters-depth-3">[</span><span class="org-py-number">1</span>, <span class="org-py-number">2</span><span class="org-rainbow-delimiters-depth-3">]</span>, <span class="org-rainbow-delimiters-depth-3">[</span><span class="org-py-number">3</span>, <span class="org-py-number">4</span><span class="org-rainbow-delimiters-depth-3">]</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>       <span class="org-comment-delimiter"># </span><span class="org-comment">[(1, 3), (2, 4)]</span>
</pre>
</div>

<p>
If one iterable is longer than the other, <code>zip</code> only iterates over matches and skips any remaining elements. 
</p>

<div class="org-src-container">
<pre class="src src-python"><span class="org-py-variable-name">l</span> <span class="org-operator">=</span> <span class="org-py-builtins">list</span><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-py-builtins">zip</span><span class="org-rainbow-delimiters-depth-2">(</span><span class="org-rainbow-delimiters-depth-3">[</span><span class="org-py-number">1</span>, <span class="org-py-number">2</span><span class="org-rainbow-delimiters-depth-3">]</span>, <span class="org-rainbow-delimiters-depth-3">[</span><span class="org-py-number">3</span>, <span class="org-py-number">4</span>, <span class="org-py-number">5</span><span class="org-rainbow-delimiters-depth-3">]</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>    <span class="org-comment-delimiter"># </span><span class="org-comment">[(1, 3), (2, 4)]</span>
</pre>
</div>

<p>
More than two iterables can be passed to <code>zip</code>:
</p>

<div class="org-src-container">
<pre class="src src-python"><span class="org-py-variable-name">l</span> <span class="org-operator">=</span> <span class="org-py-builtins">list</span><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-py-builtins">zip</span><span class="org-rainbow-delimiters-depth-2">(</span><span class="org-rainbow-delimiters-depth-3">[</span><span class="org-py-number">1</span>, <span class="org-py-number">2</span><span class="org-rainbow-delimiters-depth-3">]</span>, <span class="org-rainbow-delimiters-depth-3">[</span><span class="org-py-number">3</span>, <span class="org-py-number">4</span>, <span class="org-py-number">5</span><span class="org-rainbow-delimiters-depth-3">]</span>, <span class="org-rainbow-delimiters-depth-3">[</span><span class="org-py-number">6</span>, <span class="org-py-number">7</span><span class="org-rainbow-delimiters-depth-3">]</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>     <span class="org-comment-delimiter"># </span><span class="org-comment">[(1, 3, 6), (2, 4, 7)]</span>
</pre>
</div>

<p>
To view the contents of an iterator, we can place the resulting elements into a container using functions such as <code>list()</code>, <code>tuple()</code>, or <code>sorted()</code>.
</p>
</div>
</div>
</div>
<div id="outline-container-orga66ffc4" class="outline-2">
<h2 id="orga66ffc4"><span class="section-number-2">2.</span> <code>while</code> Statements</h2>
<div class="outline-text-2" id="text-2">
<p>
<b>While statements</b> contain statements that are repeated as long as some condition is true. The following is a <code>while</code> statement:
</p>
<div class="org-src-container">
<pre class="src src-python"><span class="org-py-variable-name">i</span>, <span class="org-py-variable-name">total</span> <span class="org-operator">=</span> <span class="org-py-number">0</span>, <span class="org-py-number">0</span>
<span class="org-keyword">while</span> i &lt; <span class="org-py-number">3</span>:
    <span class="org-py-variable-name">i</span> <span class="org-operator">=</span> i + <span class="org-py-number">1</span>
    <span class="org-py-variable-name">total</span> <span class="org-operator">=</span> total + i
</pre>
</div>

<p>
This loop calculates the <code>total</code> sum of the numbers from 1 through 3.
</p>

<details class="code-details"
                 style ="padding: 1em;
                          background-color: #e5f5e5;
                          border-radius: 15px;
                          color: hsl(157 75%);
                          font-size: 0.9em;
                          box-shadow: 0.05em 0.1em 5px 0.01em  #00000057;">
                  <summary>
                    <strong>
                      <font face="Courier" size="3" color="green">
                         The Fibonacci sequence
                      </font>
                    </strong>
                  </summary>
<p>
We can write a function using a <code>while</code> loop to find the nth Fibonacci number:
</p>

<div class="org-src-container">
<pre class="src src-python"><span class="org-py-def-class">def</span> <span class="org-py-def">fib</span><span class="org-rainbow-delimiters-depth-1">(</span>n<span class="org-rainbow-delimiters-depth-1">)</span>:
    <span class="org-doc">"""Compute the nth Fibonacci number, for N &gt;= 1."""</span>
    <span class="org-py-variable-name">pred</span>, <span class="org-py-variable-name">curr</span> <span class="org-operator">=</span> <span class="org-py-number">0</span>, <span class="org-py-number">1</span>
    <span class="org-py-variable-name">k</span> <span class="org-operator">=</span> <span class="org-py-number">1</span>
    <span class="org-keyword">while</span> k &lt; n:
        <span class="org-py-variable-name">pred</span>, <span class="org-py-variable-name">curr</span> <span class="org-operator">=</span> curr, pred + curr
        <span class="org-py-variable-name">k</span> <span class="org-operator">=</span> k + <span class="org-py-number">1</span>
    <span class="org-keyword">return</span> curr
</pre>
</div>


</details>
</div>
<div id="outline-container-orgf053a61" class="outline-3">
<h3 id="orgf053a61"><span class="section-number-3">2.1.</span> Procedure for <code>while</code> Statements</h3>
<div class="outline-text-3" id="text-2-1">
<ol class="org-ol">
<li>Evaluate the header's expression.</li>
<li>If it is a true value, execute the whole suite, then return to step 1.</li>
</ol>

<p>
Note that the while condition <i>must eventually become a false value</i> for the statement to end, otherwise you have an infinite loop.
</p>
</div>
</div>
</div>
<div id="outline-container-orga43c66f" class="outline-2">
<h2 id="orga43c66f"><span class="section-number-2">3.</span> <code>for</code> Statements</h2>
<div class="outline-text-2" id="text-3">
<p>
<b>For statements</b> allows us to iterate over an object that is <i>iterable</i>. For example, a <a href="sequences.html">sequence</a> is iterable, so if we have a list, we can iterate over that list using a <code>for</code> loop. In general, a <code>for</code> statement is written like so:
</p>

<div class="org-src-container">
<pre class="src src-python"><span class="org-keyword">for</span> &lt;name&gt; <span class="org-keyword">in</span> &lt;expression&gt;:
    &lt;suite&gt;
</pre>
</div>
</div>
<div id="outline-container-org63fa18b" class="outline-3">
<h3 id="org63fa18b"><span class="section-number-3">3.1.</span> Procedure for <code>for</code> Statements</h3>
<div class="outline-text-3" id="text-3-1">
<ol class="org-ol">
<li>Evaluate the header's expression, which must yield an iterable value.</li>
<li>For each element in that sequence, bind <code>&lt;name&gt;</code> to that element in the current frame, and then execute the suite.</li>
</ol>
</div>
</div>
<div id="outline-container-org2f81808" class="outline-3">
<h3 id="org2f81808"><span class="section-number-3">3.2.</span> Sequence Unpacking</h3>
<div class="outline-text-3" id="text-3-2">
<p>
We can also do <b>sequence unpacking</b> in <code>for</code> statements. If we have a sequence of fixed-length sequences, then we can give a name for each element in a fixed-length sequence, similar to the syntax of <a href="assignment.html#orgd518ffe">multiple assignment</a>:
</p>

<div class="org-src-container">
<pre class="src src-python"><span class="org-py-variable-name">pairs</span> <span class="org-operator">=</span> <span class="org-rainbow-delimiters-depth-1">[</span><span class="org-rainbow-delimiters-depth-2">[</span><span class="org-py-number">1</span>, <span class="org-py-number">2</span><span class="org-rainbow-delimiters-depth-2">]</span>, <span class="org-rainbow-delimiters-depth-2">[</span><span class="org-py-number">2</span>, <span class="org-py-number">2</span><span class="org-rainbow-delimiters-depth-2">]</span>, <span class="org-rainbow-delimiters-depth-2">[</span><span class="org-py-number">3</span>, <span class="org-py-number">2</span><span class="org-rainbow-delimiters-depth-2">]</span>, <span class="org-rainbow-delimiters-depth-2">[</span><span class="org-py-number">4</span>, <span class="org-py-number">4</span><span class="org-rainbow-delimiters-depth-2">]</span><span class="org-rainbow-delimiters-depth-1">]</span>
<span class="org-keyword">for</span> x, y <span class="org-keyword">in</span> pairs:
    print<span class="org-rainbow-delimiters-depth-1">(</span>x, y<span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org67bf298" class="outline-3">
<h3 id="org67bf298"><span class="section-number-3">3.3.</span> Ranges</h3>
<div class="outline-text-3" id="text-3-3">
<p>
Since <a href="sequences.html#orgf9b62eb">ranges</a> are an iterable value, we can iterate over ranges in a <code>for</code> loop. This is especially helpful for controlling the number of times we iterate, or when we don't care what the element is. When we don't need to bind a name to an element, we can use the underscore <code>_</code> to make our code more readable by telling other programmers that the name will not be used:
</p>

<div class="org-src-container">
<pre class="src src-python"><span class="org-keyword">for</span> <span class="org-py-builtins">_</span> <span class="org-keyword">in</span> <span class="org-py-builtins">range</span><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-py-number">3</span><span class="org-rainbow-delimiters-depth-1">)</span>:
    print<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-string">"Go Bears!"</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org3c15489" class="outline-3">
<h3 id="org3c15489"><span class="section-number-3">3.4.</span> Iterators</h3>
<div class="outline-text-3" id="text-3-4">
<p>
We can also use iterators in a for statement. However, it is important to note that the for statement will advance the iterator, which means you cannot use values that were already processed again.
</p>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<div class="footer">
               <p>Author: Lin Jiang</p>
             </div>
             <div class="last-modified">
               Last modified: 2025-10-02 13:35
             </div>
</div>
</body>
</html>
